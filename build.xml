<?xml version="1.0"?>
<project name="fnmail" default="compile" basedir=".">
<!-- set global properties for this build -->
  	<property name="src" location="src"/>
	<property name="build" location="build"/>
	<property name="lib"	location="lib"/>

	<target name="mkdir">
		<mkdir dir="${build}"/>
		<mkdir dir="${lib}"/>
	</target>

	<target name="compile" depends="mkdir">
		<!-- Create the time stamp -->
		<tstamp/>
		<!-- Create the build directory structure used by compile -->
		
		<javac srcdir="${src}" destdir="${build}" debug="on" optimize="on" source="1.4" compiler="jikes">
		<include name="fnmail/*.java"/>
		<include name="fnmail/*/*.java"/>
		<include name="thirdparty/*.java"/>
		<include name="freenet/support/io/*.java"/>
		</javac>
	</target>


	<target name="dist" depends="compile">
	<jar jarfile="${lib}/fnmail.jar" basedir="${build}">
	<manifest>
	<attribute name="Main-Class" value="fnmail.FNMail"/>
		<attribute name="Built-By" value="${user.name}"/>
		<section name="common">
			<attribute name="Implementation-Title" value="fnmail"/>
			<attribute name="Implementation-Version" value="0.0"/> 
			<attribute name="Implementation-Vendor" value="Dave Baker"/>
		</section>
	</manifest>
	</jar>    
	</target>

	<target name="clean">
		<delete dir="${build}"/>
		<delete dir="${lib}"/>
	</target>
	<target name="distclean" description="Delete class files, lib dir and docs dir.">
		<delete dir="${build}"/>
		<delete dir="${lib}"/>
	</target>
</project>
